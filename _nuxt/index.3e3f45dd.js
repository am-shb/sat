import b from"./ContentDoc.a195f6d3.js";import{a as V,z as N,A as T,s as w,q as B,b as I,Y as R,c as l,w as o,i as n,o as u,R as e,W as k,$ as f,X as c,a0 as z}from"./entry.f6dad975.js";import{_ as Y}from"./nuxt-link.1270ff71.js";import{d as D}from"./component.062bd3c9.js";import{q as O}from"./query.3991dc9f.js";import{u as A}from"./quiz.7bfaed97.js";import"./ContentRenderer.3fd821ce.js";import"./ContentRendererMarkdown.5fc617ad.js";import"./index.288f722b.js";import"./ContentQuery.2c76c23e.js";import"./utils.a20ce9ed.js";const L=V({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(t,{slots:a,attrs:d}){const m=N(!1);return T(()=>{m.value=!0}),s=>{var r;if(m.value)return(r=a.default)==null?void 0:r.call(a);const p=a.fallback||a.placeholder;if(p)return p();const _=s.fallback||s.placeholder||"",i=s.fallbackTag||s.placeholderTag||"span";return w(i,d,_)}}}),Q=D({async setup(){const a=I().params.id;return{quiz:await O(`/quizzes/${a}/quiz`).findOne(),quizId:a}},computed:{...R(A),quizState(){return this.quizStore.quizState(this.$route.params.id)}},methods:{reset_progress(){this.quizStore.deleteQuizState(this.$route.params.id)}}}),E={class:"d-none"};function M(t,a,d,m,s,p){const _=n("v-card-title"),i=n("v-divider"),r=b,q=n("v-alert"),v=L,$=n("v-card-text"),h=n("v-btn"),S=Y,y=n("v-card-actions"),g=n("v-card"),C=n("v-container");return u(),l(C,null,{default:o(()=>[e(g,null,{default:o(()=>[e(_,null,{default:o(()=>[k("h1",null,f(t.quiz.title),1)]),_:1}),e(i),e($,null,{default:o(()=>[e(r,{path:`quizzes/${t.quizId}/intro`,class:"md-content"},null,8,["path"]),e(v,null,{default:o(()=>[t.quizState&&t.quizState.lastVisited?(u(),l(q,{key:0,color:"info"},{default:o(()=>[c(" You last visited this test on: "+f(new Date(t.quizState.lastVisited).toLocaleString()),1)]),_:1})):z("",!0),t.quizState&&t.quizState.completed?(u(),l(q,{key:1,color:"success",class:"mt-3"},{default:o(()=>[c(" You already completed this test. You can retake it if you want. ")]),_:1})):z("",!0)]),_:1})]),_:1}),e(i),e(y,{class:"text-center"},{default:o(()=>[e(v,null,{default:o(()=>[e(h,{color:"primary",to:`/quizzes/${t.quizId}/test`},{default:o(()=>[c(f(t.quizState&&t.quizState.lastVisited?"Resume":"Begin")+" test ",1)]),_:1},8,["to"]),t.quizState&&t.quizState.lastVisited?(u(),l(h,{key:0,color:"primary",onClick:t.reset_progress},{default:o(()=>[c(" Reset progress ")]),_:1},8,["onClick"])):z("",!0)]),_:1}),k("div",E,[e(S,{to:`/quizzes/${t.quizId}/test`},null,8,["to"]),e(S,{to:`/quizzes/${t.quizId}/finish`},null,8,["to"])])]),_:1})]),_:1})]),_:1})}const x=B(Q,[["render",M]]);export{x as default};
